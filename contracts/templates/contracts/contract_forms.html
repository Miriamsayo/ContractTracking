{% extends "base.html" %}

{% block title %}Contract Form | Contract Tracking{% endblock %}

{% block content %}
<div class="container">
    <h2 class="mt-4">{% if form.instance.pk %}Edit Contract{% else %}Add New Contract{% endif %}</h2>
    <hr>

    <form method="POST" enctype="multipart/form-data" 
        action="{% if form.instance.pk %} {% url 'update_contract' form.instance.pk %} {% else %} {% url 'create_contract' %} {% endif %}">
        {% csrf_token %}

        <div class="mb-3">
            <label for="{{ form.staff_name.id_for_label }}" class="form-label">Staff Name</label>
            {{ form.staff_name }}
        </div>

        <div class="mb-3">
            <label for="{{ form.title.id_for_label }}" class="form-label">Title</label>
            {{ form.title }}
        </div>

        <div class="mb-3">
            <label for="{{ form.contract_type.id_for_label }}" class="form-label">Contract Type</label>
            {{ form.contract_type }}
        </div>

        <div class="mb-3">
            <label for="{{ form.start_date.id_for_label }}" class="form-label">Start Date</label>
            {{ form.start_date }}
        </div>

        <div class="mb-3">
            <label for="{{ form.end_date.id_for_label }}" class="form-label">End Date</label>
            {{ form.end_date }}
        </div>

        <div class="mb-3">
            <label for="{{ form.unit.id_for_label }}" class="form-label">Unit</label>
            {{ form.unit }}
        </div>

        <div class="mb-3">
            <label for="{{ form.supervisor.id_for_label }}" class="form-label">Supervisor</label>
            {{ form.supervisor }}
        </div>

        <div class="mb-3">
            <label for="{{ form.pdf_contract.id_for_label }}" class="form-label">Upload Contract (PDF)</label>
            {{ form.pdf_contract }}
        </div>

        <button type="submit" class="btn btn-primary">
            {% if form.instance.pk %} Update Contract {% else %} Save Contract {% endif %}
        </button>
        <a href="{% url 'contract_list' %}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}
